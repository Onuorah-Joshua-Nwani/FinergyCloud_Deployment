<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for Risk Zones -->
    <radialGradient id="lowRiskGradient" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:0.4" />
    </radialGradient>
    
    <radialGradient id="mediumRiskGradient" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:0.4" />
    </radialGradient>
    
    <radialGradient id="highRiskGradient" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:0.4" />
    </radialGradient>
    
    <!-- Country Gradients -->
    <linearGradient id="ghanaGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="nigeriaGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="kenyaGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop Shadow Filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    
    <!-- Arrow Marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="900" fill="#F8FAFC"/>
  
  <!-- Title -->
  <text x="600" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1F2937">
    XGBoost Decision Boundaries for ESG Risk Classification
  </text>
  <text x="600" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#6B7280">
    How ESG Scores, IRR, and Geographic Factors Determine Risk Classification
  </text>
  
  <!-- Main 3D Decision Space -->
  <g id="decisionSpace">
    <!-- Background plane -->
    <rect x="100" y="100" width="600" height="450" rx="10" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
    
    <!-- Axis Labels -->
    <text x="400" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">ESG Score (0-100)</text>
    <text x="80" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151" transform="rotate(-90, 80, 325)">IRR % (5-25)</text>
    
    <!-- ESG Score axis (X) -->
    <line x1="150" y1="520" x2="650" y2="520" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="200" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">20</text>
    <text x="300" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">40</text>
    <text x="400" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">60</text>
    <text x="500" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">80</text>
    <text x="600" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">100</text>
    
    <!-- IRR axis (Y) -->
    <line x1="150" y1="520" x2="150" y2="120" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="135" y="500" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">8</text>
    <text x="135" y="420" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">12</text>
    <text x="135" y="340" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">16</text>
    <text x="135" y="260" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">20</text>
    <text x="135" y="180" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">24</text>
    
    <!-- Risk Zone Boundaries -->
    
    <!-- High Risk Zone (Lower Left) -->
    <path d="M 150 520 Q 200 480 250 450 Q 300 420 350 400 L 350 520 Z" fill="url(#highRiskGradient)" opacity="0.7"/>
    <text x="250" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#DC2626">HIGH RISK</text>
    <text x="250" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#DC2626">ESG &lt; 60, IRR &lt; 12%</text>
    
    <!-- Medium Risk Zone (Center) -->
    <path d="M 250 450 Q 400 380 500 350 Q 550 340 600 335 L 600 450 Q 500 460 400 470 Q 350 475 300 480 Z" fill="url(#mediumRiskGradient)" opacity="0.7"/>
    <text x="450" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#D97706">MEDIUM RISK</text>
    <text x="450" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#D97706">ESG 60-80, IRR 12-18%</text>
    
    <!-- Low Risk Zone (Upper Right) -->
    <path d="M 500 350 Q 550 280 600 250 Q 620 240 650 230 L 650 350 Q 600 360 550 370 Z" fill="url(#lowRiskGradient)" opacity="0.7"/>
    <text x="575" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#059669">LOW RISK</text>
    <text x="575" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#059669">ESG &gt; 80, IRR &gt; 18%</text>
    
    <!-- Decision Boundary Lines -->
    <path d="M 250 450 Q 400 380 500 350 Q 550 340 600 335" stroke="#374151" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
    <path d="M 350 400 Q 450 370 500 350" stroke="#374151" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
    
    <!-- Sample Data Points by Country -->
    
    <!-- Ghana Projects (Green circles) -->
    <circle cx="520" cy="280" r="8" fill="#10B981" stroke="white" stroke-width="2"/>
    <circle cx="480" cy="320" r="8" fill="#10B981" stroke="white" stroke-width="2"/>
    <circle cx="550" cy="300" r="8" fill="#10B981" stroke="white" stroke-width="2"/>
    <text x="520" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">GH1</text>
    <text x="480" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">GH2</text>
    <text x="550" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">GH3</text>
    
    <!-- Nigeria Projects (Blue squares) -->
    <rect x="355" y="365" width="10" height="10" fill="#3B82F6" stroke="white" stroke-width="2"/>
    <rect x="395" y="385" width="10" height="10" fill="#3B82F6" stroke="white" stroke-width="2"/>
    <rect x="425" y="375" width="10" height="10" fill="#3B82F6" stroke="white" stroke-width="2"/>
    <text x="360" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">NG1</text>
    <text x="400" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">NG2</text>
    <text x="430" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">NG3</text>
    
    <!-- Kenya Projects (Orange triangles) -->
    <polygon points="290,440 285,450 295,450" fill="#F59E0B" stroke="white" stroke-width="2"/>
    <polygon points="320,420 315,430 325,430" fill="#F59E0B" stroke="white" stroke-width="2"/>
    <polygon points="340,430 335,440 345,440" fill="#F59E0B" stroke="white" stroke-width="2"/>
    <text x="290" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">KE1</text>
    <text x="320" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">KE2</text>
    <text x="340" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#374151">KE3</text>
  </g>
  
  <!-- Geographic Factor Analysis -->
  <g id="geographicFactors">
    <text x="850" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      Geographic Risk Factors
    </text>
    
    <!-- Ghana -->
    <rect x="750" y="140" width="200" height="80" rx="10" fill="url(#ghanaGradient)" filter="url(#shadow)"/>
    <text x="850" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      GHANA (Low Risk Bias)
    </text>
    <text x="770" y="185" font-family="Arial, sans-serif" font-size="11" fill="white">• Stable grid infrastructure</text>
    <text x="770" y="200" font-family="Arial, sans-serif" font-size="11" fill="white">• Strong regulatory framework</text>
    <text x="770" y="215" font-family="Arial, sans-serif" font-size="11" fill="white">• High solar resource quality</text>
    
    <!-- Nigeria -->
    <rect x="750" y="240" width="200" height="80" rx="10" fill="url(#nigeriaGradient)" filter="url(#shadow)"/>
    <text x="850" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      NIGERIA (Medium Risk Bias)
    </text>
    <text x="770" y="285" font-family="Arial, sans-serif" font-size="11" fill="white">• Variable grid stability</text>
    <text x="770" y="300" font-family="Arial, sans-serif" font-size="11" fill="white">• Developing regulations</text>
    <text x="770" y="315" font-family="Arial, sans-serif" font-size="11" fill="white">• Mixed resource availability</text>
    
    <!-- Kenya -->
    <rect x="750" y="340" width="200" height="80" rx="10" fill="url(#kenyaGradient)" filter="url(#shadow)"/>
    <text x="850" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      KENYA (High Risk Bias)
    </text>
    <text x="770" y="385" font-family="Arial, sans-serif" font-size="11" fill="white">• Grid infrastructure challenges</text>
    <text x="770" y="400" font-family="Arial, sans-serif" font-size="11" fill="white">• Regulatory uncertainty</text>
    <text x="770" y="415" font-family="Arial, sans-serif" font-size="11" fill="white">• Climate variability</text>
  </g>
  
  <!-- Decision Rules -->
  <g id="decisionRules">
    <text x="850" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      XGBoost Decision Rules
    </text>
    
    <rect x="750" y="480" width="200" height="120" rx="10" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
    <text x="770" y="505" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Primary Splits:</text>
    <text x="770" y="525" font-family="Arial, sans-serif" font-size="11" fill="#374151">• ESG Score ≥ 75 → Low Risk Path</text>
    <text x="770" y="540" font-family="Arial, sans-serif" font-size="11" fill="#374151">• IRR ≥ 15% → Risk Reduction</text>
    <text x="770" y="555" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Ghana → +0.2 risk adjustment</text>
    <text x="770" y="570" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Kenya → -0.3 risk adjustment</text>
    <text x="770" y="585" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Carbon Score ≥ 0.8 → Low Risk</text>
  </g>
  
  <!-- Feature Interaction Matrix -->
  <g id="featureInteraction">
    <text x="400" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      Key Feature Interactions in Decision Boundaries
    </text>
    
    <rect x="100" y="650" width="600" height="120" rx="10" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
    
    <!-- Interaction 1 -->
    <text x="120" y="675" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">ESG × Geographic Factor:</text>
    <text x="120" y="695" font-family="Arial, sans-serif" font-size="11" fill="#374151">High ESG scores (≥80) combined with Ghana location → 95% Low Risk classification</text>
    
    <!-- Interaction 2 -->
    <text x="120" y="715" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">IRR × Carbon Impact:</text>
    <text x="120" y="735" font-family="Arial, sans-serif" font-size="11" fill="#374151">IRR ≥18% + Carbon Score ≥0.85 → Override geographic risk factors</text>
    
    <!-- Interaction 3 -->
    <text x="120" y="755" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Composite Risk Threshold:</text>
    <text x="120" y="775" font-family="Arial, sans-serif" font-size="11" fill="#374151">Final Risk = 0.4×ESG + 0.3×IRR + 0.2×Geographic + 0.1×Carbon → {Low, Medium, High}</text>
  </g>
  
  <!-- Legend -->
  <g id="legend">
    <text x="950" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1F2937">
      Project Symbols
    </text>
    
    <circle cx="850" cy="650" r="6" fill="#10B981" stroke="white" stroke-width="1"/>
    <text x="870" y="655" font-family="Arial, sans-serif" font-size="11" fill="#374151">Ghana Projects</text>
    
    <rect x="845" y="670" width="10" height="10" fill="#3B82F6" stroke="white" stroke-width="1"/>
    <text x="870" y="680" font-family="Arial, sans-serif" font-size="11" fill="#374151">Nigeria Projects</text>
    
    <polygon points="850,695 847,703 853,703" fill="#F59E0B" stroke="white" stroke-width="1"/>
    <text x="870" y="705" font-family="Arial, sans-serif" font-size="11" fill="#374151">Kenya Projects</text>
    
    <line x1="840" y1="720" x2="860" y2="720" stroke="#374151" stroke-width="3" stroke-dasharray="3,3"/>
    <text x="870" y="725" font-family="Arial, sans-serif" font-size="11" fill="#374151">Decision Boundaries</text>
  </g>
  
  <!-- Model Accuracy Box -->
  <g id="accuracyBox">
    <rect x="750" y="750" width="200" height="80" rx="10" fill="#6366F1" filter="url(#shadow)"/>
    <text x="850" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      Boundary Accuracy
    </text>
    <text x="770" y="795" font-family="Arial, sans-serif" font-size="11" fill="white">• Overall Classification: 94.2%</text>
    <text x="770" y="810" font-family="Arial, sans-serif" font-size="11" fill="white">• Cross-boundary Precision: 92.8%</text>
    <text x="770" y="825" font-family="Arial, sans-serif" font-size="11" fill="white">• Geographic Adjustment: 96.1%</text>
  </g>
  
  <!-- Footer -->
  <text x="600" y="885" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6B7280">
    XGBoost Decision Boundaries - FinergyCloud AI Risk Classification System
  </text>
</svg>