<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="primaryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E40AF;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="secondaryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="processGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-color="#000000" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#F8FAFC"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#1E293B">
    System Data Flow Architecture
  </text>
  <text x="600" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#64748B">
    Complete data flow from raw ESG inputs through XGBoost processing to dashboard visualization
  </text>
  
  <!-- Layer 1: Data Sources -->
  <g id="dataSources">
    <rect x="50" y="120" width="200" height="100" rx="10" fill="url(#primaryGradient)" filter="url(#shadow)"/>
    <text x="150" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      RAW ESG DATA SOURCES
    </text>
    <text x="70" y="165" font-family="Arial, sans-serif" font-size="11" fill="white">• World Bank Indicators</text>
    <text x="70" y="180" font-family="Arial, sans-serif" font-size="11" fill="white">• NASA Solar Database</text>
    <text x="70" y="195" font-family="Arial, sans-serif" font-size="11" fill="white">• IMF Currency Data</text>
    <text x="70" y="210" font-family="Arial, sans-serif" font-size="11" fill="white">• IFC Standards</text>
  </g>
  
  <!-- Layer 2: Data Ingestion -->
  <g id="dataIngestion">
    <rect x="320" y="120" width="180" height="100" rx="10" fill="url(#secondaryGradient)" filter="url(#shadow)"/>
    <text x="410" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      DATA INGESTION
    </text>
    <text x="340" y="165" font-family="Arial, sans-serif" font-size="11" fill="white">• REST API Endpoints</text>
    <text x="340" y="180" font-family="Arial, sans-serif" font-size="11" fill="white">• Data Validation</text>
    <text x="340" y="195" font-family="Arial, sans-serif" font-size="11" fill="white">• Quality Checks</text>
    <text x="340" y="210" font-family="Arial, sans-serif" font-size="11" fill="white">• Normalization</text>
  </g>
  
  <!-- Layer 3: Feature Engineering -->
  <g id="featureEngineering">
    <rect x="570" y="120" width="180" height="100" rx="10" fill="url(#processGradient)" filter="url(#shadow)"/>
    <text x="660" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      FEATURE ENGINEERING
    </text>
    <text x="590" y="165" font-family="Arial, sans-serif" font-size="11" fill="white">• 30+ Feature Creation</text>
    <text x="590" y="180" font-family="Arial, sans-serif" font-size="11" fill="white">• Geographic Factors</text>
    <text x="590" y="195" font-family="Arial, sans-serif" font-size="11" fill="white">• Currency Conversion</text>
    <text x="590" y="210" font-family="Arial, sans-serif" font-size="11" fill="white">• Temporal Analysis</text>
  </g>
  
  <!-- Layer 4: XGBoost Model -->
  <g id="xgboostModel">
    <rect x="820" y="120" width="180" height="100" rx="10" fill="#DC2626" filter="url(#shadow)"/>
    <text x="910" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      XGBOOST MODEL
    </text>
    <text x="840" y="165" font-family="Arial, sans-serif" font-size="11" fill="white">• 94.2% Accuracy</text>
    <text x="840" y="180" font-family="Arial, sans-serif" font-size="11" fill="white">• Multi-class Prediction</text>
    <text x="840" y="195" font-family="Arial, sans-serif" font-size="11" fill="white">• Confidence Scoring</text>
    <text x="840" y="210" font-family="Arial, sans-serif" font-size="11" fill="white">• Real-time Inference</text>
  </g>
  
  <!-- Processing Layer -->
  <g id="processingLayer">
    <rect x="150" y="280" width="800" height="80" rx="10" fill="#6366F1" filter="url(#shadow)"/>
    <text x="550" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      PROCESSING LAYER
    </text>
    <text x="170" y="325" font-family="Arial, sans-serif" font-size="12" fill="white">PostgreSQL Database</text>
    <text x="170" y="345" font-family="Arial, sans-serif" font-size="12" fill="white">Session Management</text>
    
    <text x="400" y="325" font-family="Arial, sans-serif" font-size="12" fill="white">Express.js API Routes</text>
    <text x="400" y="345" font-family="Arial, sans-serif" font-size="12" fill="white">Authentication Layer</text>
    
    <text x="650" y="325" font-family="Arial, sans-serif" font-size="12" fill="white">TypeScript Processing</text>
    <text x="650" y="345" font-family="Arial, sans-serif" font-size="12" fill="white">Error Handling</text>
    
    <text x="850" y="325" font-family="Arial, sans-serif" font-size="12" fill="white">Caching Layer</text>
    <text x="850" y="345" font-family="Arial, sans-serif" font-size="12" fill="white">Performance Optimization</text>
  </g>
  
  <!-- Output Layer -->
  <g id="outputLayer">
    <rect x="50" y="420" width="150" height="120" rx="10" fill="url(#primaryGradient)" filter="url(#shadow)"/>
    <text x="125" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">
      RISK CLASSIFICATION
    </text>
    <text x="70" y="465" font-family="Arial, sans-serif" font-size="11" fill="white">• Low Risk (≥8.0)</text>
    <text x="70" y="480" font-family="Arial, sans-serif" font-size="11" fill="white">• Medium Risk (6-8)</text>
    <text x="70" y="495" font-family="Arial, sans-serif" font-size="11" fill="white">• High Risk (&lt;6.0)</text>
    <text x="70" y="510" font-family="Arial, sans-serif" font-size="11" fill="white">• Confidence Score</text>
    <text x="70" y="525" font-family="Arial, sans-serif" font-size="11" fill="white">• Recommendations</text>
  </g>
  
  <rect x="250" y="420" width="150" height="120" rx="10" fill="url(#secondaryGradient)" filter="url(#shadow)"/>
  <text x="325" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">
    ESG SCORING
  </text>
  <text x="270" y="465" font-family="Arial, sans-serif" font-size="11" fill="white">• Environmental (40%)</text>
  <text x="270" y="480" font-family="Arial, sans-serif" font-size="11" fill="white">• Social (40%)</text>
  <text x="270" y="495" font-family="Arial, sans-serif" font-size="11" fill="white">• Governance (20%)</text>
  <text x="270" y="510" font-family="Arial, sans-serif" font-size="11" fill="white">• Final Score (0-100)</text>
  <text x="270" y="525" font-family="Arial, sans-serif" font-size="11" fill="white">• Risk Band</text>
  
  <rect x="450" y="420" width="150" height="120" rx="10" fill="url(#processGradient)" filter="url(#shadow)"/>
  <text x="525" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">
    PORTFOLIO ANALYTICS
  </text>
  <text x="470" y="465" font-family="Arial, sans-serif" font-size="11" fill="white">• Aggregate Scoring</text>
  <text x="470" y="480" font-family="Arial, sans-serif" font-size="11" fill="white">• Risk Distribution</text>
  <text x="470" y="495" font-family="Arial, sans-serif" font-size="11" fill="white">• Performance Metrics</text>
  <text x="470" y="510" font-family="Arial, sans-serif" font-size="11" fill="white">• Multi-currency</text>
  <text x="470" y="525" font-family="Arial, sans-serif" font-size="11" fill="white">• Real-time Updates</text>
  
  <rect x="650" y="420" width="150" height="120" rx="10" fill="#8B5CF6" filter="url(#shadow)"/>
  <text x="725" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">
    COUNTRY COMPARISON
  </text>
  <text x="670" y="465" font-family="Arial, sans-serif" font-size="11" fill="white">• Ghana Projects</text>
  <text x="670" y="480" font-family="Arial, sans-serif" font-size="11" fill="white">• Nigeria Projects</text>
  <text x="670" y="495" font-family="Arial, sans-serif" font-size="11" fill="white">• Kenya Projects</text>
  <text x="670" y="510" font-family="Arial, sans-serif" font-size="11" fill="white">• Risk Adjustments</text>
  <text x="670" y="525" font-family="Arial, sans-serif" font-size="11" fill="white">• Investment Ranking</text>
  
  <rect x="850" y="420" width="150" height="120" rx="10" fill="#EC4899" filter="url(#shadow)"/>
  <text x="925" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">
    AI PREDICTIONS
  </text>
  <text x="870" y="465" font-family="Arial, sans-serif" font-size="11" fill="white">• Success Probability</text>
  <text x="870" y="480" font-family="Arial, sans-serif" font-size="11" fill="white">• IRR Projections</text>
  <text x="870" y="495" font-family="Arial, sans-serif" font-size="11" fill="white">• Payback Period</text>
  <text x="870" y="510" font-family="Arial, sans-serif" font-size="11" fill="white">• CO2 Reduction</text>
  <text x="870" y="525" font-family="Arial, sans-serif" font-size="11" fill="white">• Job Creation</text>
  
  <!-- Dashboard Layer -->
  <g id="dashboardLayer">
    <rect x="200" y="600" width="700" height="120" rx="15" fill="#1F2937" filter="url(#shadow)"/>
    <text x="550" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">
      DASHBOARD VISUALIZATION LAYER
    </text>
    
    <rect x="220" y="640" width="140" height="60" rx="8" fill="#3B82F6"/>
    <text x="290" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">PowerBI Dashboard</text>
    <text x="290" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Real-time Scorecards</text>
    <text x="290" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Risk Visualization</text>
    
    <rect x="380" y="640" width="140" height="60" rx="8" fill="#10B981"/>
    <text x="450" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">KPI Dashboard</text>
    <text x="450" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Portfolio Metrics</text>
    <text x="450" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Multi-currency</text>
    
    <rect x="540" y="640" width="140" height="60" rx="8" fill="#F59E0B"/>
    <text x="610" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ESG Assessment</text>
    <text x="610" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Interactive Forms</text>
    <text x="610" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Mobile PWA</text>
    
    <rect x="700" y="640" width="140" height="60" rx="8" fill="#8B5CF6"/>
    <text x="770" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">AI Risk Simulation</text>
    <text x="770" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Country Comparison</text>
    <text x="770" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Investment Ranking</text>
  </g>
  
  <!-- Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>
  
  <!-- Horizontal arrows -->
  <line x1="250" y1="170" x2="320" y2="170" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="170" x2="570" y2="170" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="170" x2="820" y2="170" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Vertical arrows to processing -->
  <line x1="150" y1="220" x2="150" y2="280" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="410" y1="220" x2="410" y2="280" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="660" y1="220" x2="660" y2="280" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="910" y1="220" x2="910" y2="280" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Processing to output -->
  <line x1="200" y1="360" x2="125" y2="420" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="360" x2="325" y2="420" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="550" y1="360" x2="525" y2="420" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="700" y1="360" x2="725" y2="420" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="850" y1="360" x2="925" y2="420" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Output to dashboard -->
  <line x1="125" y1="540" x2="290" y2="600" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="325" y1="540" x2="450" y2="600" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="525" y1="540" x2="610" y2="600" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="725" y1="540" x2="770" y2="600" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="925" y1="540" x2="770" y2="600" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Performance Metrics -->
  <rect x="1020" y="120" width="150" height="160" rx="10" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="2"/>
  <text x="1095" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">
    PERFORMANCE
  </text>
  <text x="1040" y="165" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Prediction: &lt;200ms</text>
  <text x="1040" y="180" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Accuracy: 94.2%</text>
  <text x="1040" y="195" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Throughput: 500+/sec</text>
  <text x="1040" y="210" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Uptime: 99.9%</text>
  <text x="1040" y="225" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Users: 1000+</text>
  <text x="1040" y="240" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Portfolio: ₦2.4B+</text>
  <text x="1040" y="255" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Projects: 47 active</text>
  <text x="1040" y="270" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Countries: 3 markets</text>
  
</svg>