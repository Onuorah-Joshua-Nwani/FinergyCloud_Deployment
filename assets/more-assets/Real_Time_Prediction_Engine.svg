<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366F1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4F46E5;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="inputGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="processingGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop Shadow Filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
    
    <!-- Arrow Marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
    
    <!-- Data Flow Arrow -->
    <marker id="dataArrow" markerWidth="12" markerHeight="8" refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#6366F1"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#F8FAFC"/>
  
  <!-- Title -->
  <rect x="0" y="0" width="1400" height="80" fill="url(#headerGradient)"/>
  <text x="700" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
    Real-Time Prediction Engine Workflow
  </text>
  <text x="700" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="white">
    User Input to ESG Risk Classification - FinergyCloud XGBoost Processing Pipeline
  </text>
  
  <!-- Stage 1: User Input -->
  <g id="userInput">
    <text x="200" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      Stage 1: User Input Collection
    </text>
    
    <!-- Input Form Interface -->
    <rect x="50" y="140" width="300" height="220" rx="15" fill="url(#inputGradient)" filter="url(#shadow)"/>
    <text x="200" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      Project Input Form
    </text>
    
    <!-- Input Fields -->
    <rect x="70" y="180" width="260" height="22" rx="5" fill="white" opacity="0.9"/>
    <text x="80" y="195" font-family="Arial, sans-serif" font-size="11" fill="#374151">Project Type: Solar PV</text>
    
    <rect x="70" y="208" width="260" height="22" rx="5" fill="white" opacity="0.9"/>
    <text x="80" y="223" font-family="Arial, sans-serif" font-size="11" fill="#374151">Location: Lagos, Nigeria</text>
    
    <rect x="70" y="236" width="260" height="22" rx="5" fill="white" opacity="0.9"/>
    <text x="80" y="251" font-family="Arial, sans-serif" font-size="11" fill="#374151">Capacity: 50 MW</text>
    
    <rect x="70" y="264" width="260" height="22" rx="5" fill="white" opacity="0.9"/>
    <text x="80" y="279" font-family="Arial, sans-serif" font-size="11" fill="#374151">Expected IRR: 15.2%</text>
    
    <rect x="70" y="292" width="260" height="22" rx="5" fill="white" opacity="0.9"/>
    <text x="80" y="307" font-family="Arial, sans-serif" font-size="11" fill="#374151">Investment: $75M USD</text>
    
    <!-- Submit Button -->
    <rect x="120" y="330" width="160" height="25" rx="8" fill="#10B981"/>
    <text x="200" y="347" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      Analyze Project Risk
    </text>
  </g>
  
  <!-- Arrow 1 -->
  <line x1="350" y1="270" x2="420" y2="270" stroke="#6366F1" stroke-width="4" marker-end="url(#dataArrow)"/>
  <text x="385" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#6366F1">
    Raw Data
  </text>
  
  <!-- Stage 2: Data Preprocessing -->
  <g id="dataPreprocessing">
    <text x="550" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      Stage 2: Data Preprocessing
    </text>
    
    <!-- Preprocessing Module -->
    <rect x="420" y="140" width="260" height="220" rx="15" fill="url(#processingGradient)" filter="url(#shadow)"/>
    <text x="550" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      Feature Engineering
    </text>
    
    <!-- Preprocessing Steps -->
    <rect x="440" y="180" width="220" height="150" rx="8" fill="white" opacity="0.95"/>
    
    <text x="450" y="200" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Data Validation &amp; Cleaning:</text>
    <text x="450" y="214" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Input range validation</text>
    <text x="450" y="227" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Missing value handling</text>
    <text x="450" y="240" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Data type conversion</text>
    
    <text x="450" y="260" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Feature Transformation:</text>
    <text x="450" y="274" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Categorical encoding</text>
    <text x="450" y="287" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Numerical scaling</text>
    <text x="450" y="300" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Derived feature creation</text>
    <text x="450" y="313" font-family="Arial, sans-serif" font-size="10" fill="#374151">✓ Interaction terms</text>
    
    <!-- Processing Time -->
    <rect x="440" y="340" width="220" height="15" rx="5" fill="#3B82F6" opacity="0.2"/>
    <text x="550" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1D4ED8">
      Processing Time: &lt;50ms
    </text>
  </g>
  
  <!-- Arrow 2 -->
  <line x1="680" y1="270" x2="750" y2="270" stroke="#6366F1" stroke-width="4" marker-end="url(#dataArrow)"/>
  <text x="715" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#6366F1">
    Processed Features
  </text>
  
  <!-- Stage 3: XGBoost Prediction Engine -->
  <g id="xgboostEngine">
    <text x="900" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      Stage 3: XGBoost Prediction Engine
    </text>
    
    <!-- AI Processing Module -->
    <rect x="750" y="140" width="300" height="220" rx="15" fill="url(#aiGradient)" filter="url(#shadow)"/>
    <text x="900" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      AI Risk Classification
    </text>
    
    <!-- Model Architecture -->
    <rect x="770" y="180" width="260" height="150" rx="8" fill="white" opacity="0.95"/>
    
    <text x="780" y="200" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Model Architecture:</text>
    <text x="780" y="214" font-family="Arial, sans-serif" font-size="10" fill="#374151">• 1,000+ decision trees</text>
    <text x="780" y="227" font-family="Arial, sans-serif" font-size="10" fill="#374151">• 25 engineered features</text>
    <text x="780" y="240" font-family="Arial, sans-serif" font-size="10" fill="#374151">• Gradient boosting ensemble</text>
    
    <text x="780" y="260" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Performance Metrics:</text>
    <text x="780" y="274" font-family="Arial, sans-serif" font-size="10" fill="#374151">• Accuracy: 94.2%</text>
    <text x="780" y="287" font-family="Arial, sans-serif" font-size="10" fill="#374151">• ROC-AUC: 0.967</text>
    <text x="780" y="300" font-family="Arial, sans-serif" font-size="10" fill="#374151">• Confidence Score: 89-96%</text>
    <text x="780" y="313" font-family="Arial, sans-serif" font-size="10" fill="#374151">• Cross-validation: 94.5%</text>
    
    <!-- Inference Time -->
    <rect x="770" y="340" width="260" height="15" rx="5" fill="#8B5CF6" opacity="0.2"/>
    <text x="900" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#7C3AED">
      Inference Time: &lt;100ms
    </text>
  </g>
  
  <!-- Arrow 3 -->
  <line x1="1050" y1="270" x2="1120" y2="270" stroke="#6366F1" stroke-width="4" marker-end="url(#dataArrow)"/>
  <text x="1085" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#6366F1">
    Risk Probabilities
  </text>
  
  <!-- Stage 4: Results Output -->
  <g id="resultsOutput">
    <text x="1250" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">
      Stage 4: Risk Classification Output
    </text>
    
    <!-- Output Interface -->
    <rect x="1120" y="140" width="260" height="220" rx="15" fill="url(#outputGradient)" filter="url(#shadow)"/>
    <text x="1250" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      Risk Assessment Report
    </text>
    
    <!-- Risk Classification Results -->
    <rect x="1140" y="180" width="220" height="150" rx="8" fill="white" opacity="0.95"/>
    
    <text x="1150" y="200" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Risk Classification:</text>
    <rect x="1150" y="205" width="70" height="15" rx="3" fill="#10B981"/>
    <text x="1185" y="216" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">LOW RISK</text>
    
    <text x="1150" y="235" font-family="Arial, sans-serif" font-size="10" fill="#374151">Success Probability: 91.3%</text>
    <text x="1150" y="248" font-family="Arial, sans-serif" font-size="10" fill="#374151">Confidence Score: 94.2%</text>
    <text x="1150" y="261" font-family="Arial, sans-serif" font-size="10" fill="#374151">Expected IRR: 15.8% ± 1.2%</text>
    <text x="1150" y="274" font-family="Arial, sans-serif" font-size="10" fill="#374151">Payback Period: 6.2 years</text>
    
    <text x="1150" y="294" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Investment Recommendation:</text>
    <text x="1150" y="307" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#10B981">✓ PROCEED WITH INVESTMENT</text>
    <text x="1150" y="320" font-family="Arial, sans-serif" font-size="10" fill="#374151">Strong fundamentals, low ESG risk</text>
    
    <!-- Response Time -->
    <rect x="1140" y="340" width="220" height="15" rx="5" fill="#F59E0B" opacity="0.2"/>
    <text x="1250" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#D97706">
      Total Response Time: &lt;200ms
    </text>
  </g>
  
  <!-- Detailed Workflow Components -->
  <g id="workflowDetails">
    <text x="700" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1F2937">
      Detailed Processing Pipeline Components
    </text>
    
    <!-- Data Flow Architecture -->
    <rect x="100" y="480" width="1200" height="400" rx="15" fill="white" stroke="#E5E7EB" stroke-width="2" filter="url(#shadow)"/>
    
    <!-- Input Layer -->
    <rect x="130" y="510" width="200" height="100" rx="10" fill="#10B981" opacity="0.1" stroke="#10B981" stroke-width="2"/>
    <text x="230" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#10B981">
      Input Layer
    </text>
    <text x="140" y="555" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Project parameters</text>
    <text x="140" y="570" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Location data</text>
    <text x="140" y="585" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Financial metrics</text>
    <text x="140" y="600" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Technical specifications</text>
    
    <!-- Feature Engineering Layer -->
    <rect x="370" y="510" width="200" height="100" rx="10" fill="#3B82F6" opacity="0.1" stroke="#3B82F6" stroke-width="2"/>
    <text x="470" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#3B82F6">
      Feature Engineering
    </text>
    <text x="380" y="555" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Categorical encoding</text>
    <text x="380" y="570" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Numerical normalization</text>
    <text x="380" y="585" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Derived features</text>
    <text x="380" y="600" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Interaction terms</text>
    
    <!-- XGBoost Model Layer -->
    <rect x="610" y="510" width="200" height="100" rx="10" fill="#8B5CF6" opacity="0.1" stroke="#8B5CF6" stroke-width="2"/>
    <text x="710" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#8B5CF6">
      XGBoost Model
    </text>
    <text x="620" y="555" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Tree ensemble</text>
    <text x="620" y="570" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Gradient boosting</text>
    <text x="620" y="585" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Risk probability</text>
    <text x="620" y="600" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Confidence scoring</text>
    
    <!-- Post-Processing Layer -->
    <rect x="850" y="510" width="200" height="100" rx="10" fill="#F59E0B" opacity="0.1" stroke="#F59E0B" stroke-width="2"/>
    <text x="950" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#F59E0B">
      Post-Processing
    </text>
    <text x="860" y="555" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Risk classification</text>
    <text x="860" y="570" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Recommendation logic</text>
    <text x="860" y="585" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Report generation</text>
    <text x="860" y="600" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Visualization prep</text>
    
    <!-- Output Layer -->
    <rect x="1090" y="510" width="200" height="100" rx="10" fill="#EF4444" opacity="0.1" stroke="#EF4444" stroke-width="2"/>
    <text x="1190" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#EF4444">
      Output Layer
    </text>
    <text x="1100" y="555" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Risk assessment</text>
    <text x="1100" y="570" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Investment advice</text>
    <text x="1100" y="585" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Confidence metrics</text>
    <text x="1100" y="600" font-family="Arial, sans-serif" font-size="11" fill="#374151">• Visual dashboard</text>
    
    <!-- Flow Arrows -->
    <line x1="330" y1="580" x2="370" y2="580" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="570" y1="580" x2="610" y2="580" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="810" y1="580" x2="850" y2="580" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="1050" y1="580" x2="1090" y2="580" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
    
    <!-- Flow Arrow Labels -->
    <text x="350" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">Features</text>
    <text x="590" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">Processed</text>
    <text x="830" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">Predictions</text>
    <text x="1070" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">Results</text>
    
    <!-- Performance Metrics -->
    <rect x="300" y="650" width="800" height="180" rx="10" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="1"/>
    <text x="700" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#374151">
      Real-Time Performance Metrics
    </text>
    
    <!-- Performance Grid -->
    <rect x="320" y="695" width="180" height="110" rx="8" fill="white" stroke="#E5E7EB" stroke-width="1"/>
    <text x="410" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#374151">Latency</text>
    <text x="330" y="732" font-family="Arial, sans-serif" font-size="10" fill="#374151">Data Processing: &lt;50ms</text>
    <text x="330" y="745" font-family="Arial, sans-serif" font-size="10" fill="#374151">Model Inference: &lt;100ms</text>
    <text x="330" y="758" font-family="Arial, sans-serif" font-size="10" fill="#374151">Post-Processing: &lt;30ms</text>
    <text x="330" y="771" font-family="Arial, sans-serif" font-size="10" fill="#374151">Report Generation: &lt;20ms</text>
    <text x="410" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#10B981">Total: &lt;200ms</text>
    
    <rect x="520" y="695" width="180" height="110" rx="8" fill="white" stroke="#E5E7EB" stroke-width="1"/>
    <text x="610" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#374151">Accuracy</text>
    <text x="530" y="732" font-family="Arial, sans-serif" font-size="10" fill="#374151">Overall Accuracy: 94.2%</text>
    <text x="530" y="745" font-family="Arial, sans-serif" font-size="10" fill="#374151">Low Risk Precision: 94.5%</text>
    <text x="530" y="758" font-family="Arial, sans-serif" font-size="10" fill="#374151">Medium Risk Precision: 93.4%</text>
    <text x="530" y="771" font-family="Arial, sans-serif" font-size="10" fill="#374151">High Risk Precision: 95.2%</text>
    <text x="610" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3B82F6">ROC-AUC: 0.967</text>
    
    <rect x="720" y="695" width="180" height="110" rx="8" fill="white" stroke="#E5E7EB" stroke-width="1"/>
    <text x="810" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#374151">Throughput</text>
    <text x="730" y="732" font-family="Arial, sans-serif" font-size="10" fill="#374151">Concurrent Users: 1000+</text>
    <text x="730" y="745" font-family="Arial, sans-serif" font-size="10" fill="#374151">Requests/Second: 300+</text>
    <text x="730" y="758" font-family="Arial, sans-serif" font-size="10" fill="#374151">Daily Predictions: 100k+</text>
    <text x="730" y="771" font-family="Arial, sans-serif" font-size="10" fill="#374151">Uptime: 99.9%</text>
    <text x="810" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#8B5CF6">Production Ready</text>
    
    <rect x="920" y="695" width="160" height="110" rx="8" fill="white" stroke="#E5E7EB" stroke-width="1"/>
    <text x="1000" y="715" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#374151">Reliability</text>
    <text x="930" y="732" font-family="Arial, sans-serif" font-size="10" fill="#374151">Model Version: v2.1</text>
    <text x="930" y="745" font-family="Arial, sans-serif" font-size="10" fill="#374151">Last Updated: Jan 2025</text>
    <text x="930" y="758" font-family="Arial, sans-serif" font-size="10" fill="#374151">Training Data: 10k+ projects</text>
    <text x="930" y="771" font-family="Arial, sans-serif" font-size="10" fill="#374151">Cross-Validation: 5-fold</text>
    <text x="1000" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#EF4444">Stability: 98.4/100</text>
  </g>
  
  <!-- Footer -->
  <text x="700" y="970" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6B7280">
    Real-Time Prediction Engine - FinergyCloud XGBoost Workflow (Total Response Time: &lt;200ms, Accuracy: 94.2%)
  </text>
</svg>